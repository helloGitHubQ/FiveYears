# 一致性hash算法

**目的：**解决分布式缓存的存储性问题

**作用：**解决了如果添加 / 减少节点，则原来的数据尽可能保持不变。将变化降到最低

## 原理

**常识:**

​		1.hash取值的个数  32位2进制数.   2^32取值区间.

​		2.如果key相同,则hash的结果必然相同.

​		3.hash运算的时间复杂度为n  无论计算的数据量多少,运行的速度几乎相同



- 利用一致性hash算法解决了数据存储问题

![](https://s1.ax1x.com/2020/03/20/825aSU.png)

- 如果节点的数量发生变化，则可以实现动态的数据迁移

![](https://s1.ax1x.com/2020/03/20/82IuA1.png)

## 特性

### 均衡性

说明:

​		当利用hash一致性算法进行计算时,如果出现了负载不均的现象则开启**虚拟节点**实现数据的动态平衡.

### 单调性

单调性是指在新增或者删减节点时，不影响系统正常运行 .

当节点新增/减少时,数据可以实现自动的迁移.

### 分散性

​		分散性是指数据应该分散地存放在分布式集群中的各个节点(节点自己可以有备份)，不必每个节点都存储所有的数据。

​		在分布式系统中,将数据分散保存到多个节点中,如果将来出现问题.则只影响局部.

---

俗语:鸡蛋不要放到一个篮子里.